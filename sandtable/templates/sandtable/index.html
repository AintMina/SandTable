{% extends "sandtable/base.html" %}
{% load static %}

{% block content %}
<main class='index'>
    <div id="canvas-div">
        <canvas id="chart"></canvas>
        <script src="{% static 'js/chart.js' %}"></script>
    </div>

    <div class='track-playing'>
        <p>{{ track_name }}</p>
    </div>

    <div class='media'>
        <a id='erase' href="{% url 'sandtable:tracks' %}">
            <span class="icon"><ion-icon name="trash-outline"></ion-icon></span>
        </a>
        
        <form action="#" method="get" id="playForm">
            <input type="hidden" name="playButton" value="true">
            <a id='play'>
                {% if playing %}
                    <span class="icon"><ion-icon name="pause-outline"></ion-icon></span>
                {% else %}
                    <span class="icon"><ion-icon name="play-outline"></ion-icon></span>
                {% endif %}
            </a>
        </form>

        <a id='next' href="#">
            <span class="icon"><ion-icon name="play-forward-outline"></ion-icon></span>
        </a>
    </div>

    <script>
        var play_button = document.getElementById("play");

        play_button.onpointerup = function() {
            document.getElementById("playForm").submit();
        }
    </script>
</main>
{% endblock content %}
